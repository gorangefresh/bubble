(this.webpackJsonpbubble=this.webpackJsonpbubble||[]).push([[0],[,,,,,,,,,,function(e,t,n){},,,function(e,t,n){e.exports=n(25)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),c=n.n(o),l=n(1),i=n(4),s=n(3),u=n(2),p=n(5);var m=function(e){return r.a.createElement("div",{className:"start-button",onClick:e.onclick},"Start")},f=(n(18),n(6)),h=n.n(f),d=n(8),y=n(12),v={plainEnemy:{type:"plainEnemy",hp:2,xp:2,R:15},lightEnemy:{type:"lightEnemy",hp:3,xp:3,R:20},heavyEnemy:{type:"heavyEnemy",hp:8,xp:5,R:30},minerEnemy:{type:"minerEnemy",hp:10,xp:5,R:25},machineGunEnemy:{type:"machineGunEnemy",hp:5,xp:5,R:25}},w=[{level:7,enemies:{machineGunEnemy:4,heavyEnemy:4}},{level:6,enemies:{machineGunEnemy:1,lightEnemy:6,heavyEnemy:3}},{level:5,enemies:{machineGunEnemy:1,lightEnemy:5,heavyEnemy:2}},{level:4,enemies:{machineGunEnemy:1,lightEnemy:5,heavyEnemy:1}},{level:3,enemies:{heavyEnemy:3,lightEnemy:1,minerEnemy:1,plainEnemy:1}},{level:2,enemies:{lightEnemy:4,plainEnemy:2}},{level:1,enemies:{plainEnemy:4}},{level:0,enemies:{},empty:!0}],E={0:0,1:5,2:20,3:40,4:70,5:110},g=new function e(){var t=this;Object(l.a)(this,e),this.pause=!1,this.matrixLength=2*(w.length-1),this.tankD=50,this.baseD=800,this.baseR=this.baseD/2,this.mainTank={x:0,y:0,exp:0,lvl:0,R:25,angle:0},this.upgradeTree={0:"light"},this.y=0,this.x=0,this.mouse={x:0,y:0},this.currentBasePosition={x:0,y:0},this.bullets={},this.travel=!1,this.select=function(){return null},this.changeBaseCords=function(e){t.currentBasePosition={x:e.x+t.baseR,y:e.y+t.baseR}},this.setMouse=function(e){t.mouse={x:e.x,y:e.y}},this.checkIn=function(e,n,a,r){t.current[e][n].coordinates=a,t.current[e][n].burst=r},this.checkOut=function(e,n){delete t.matrix["".concat(t.x,"-").concat(t.y)][e][n]},this.toEmpty=function(){0===Object.keys(t.matrix["".concat(t.x,"-").concat(t.y)].enemy).length&&(t.matrix["".concat(t.x,"-").concat(t.y)].empty=!0)},this.getId=function(e,t){return"".concat(e,"-").concat(t||"","-").concat(Date.now())},this.hit=function(e,n,a){for(var r in t.current.enemy){var o=t.current.enemy[r].coordinates,c=t.current.enemy[r].R;if(o.x-c<e&&e<o.x+c&&o.y-c<n&&n<o.y+c)return t.current.enemy[r].hp-=a,t.current.enemy[r].hp<=0&&(t.addExp(t.current.enemy[r].xp),t.current.enemy[r].burst()),!0}},this.enemyHit=function(e,n,a){var r=t.mainTank,o=t.mainTank.R;if(e+=t.currentBasePosition.x,n+=t.currentBasePosition.y,r.x-o<e&&e<r.x+o&&r.y-o<n&&n<r.y+o)return t.addExp(-a),!0},this.initLevels=function(){var e,t=Object(y.a)(w);try{for(t.s();!(e=t.n()).done;){var n=e.value,a=1;for(var r in n.enemy={},n.empty=0===Object.keys(n.enemies).length,n.enemies)for(;n.enemies[r]>0;)n.enemy[a]=JSON.parse(JSON.stringify(v[r])),n.enemies[r]--,a++}}catch(o){t.e(o)}finally{t.f()}},this.init=function(){var e=w.length;t.initLevels();for(var n=function(e,t){return"".concat(e,"-").concat(t)},a=2*e-1,r=[],o=0;o<a;o++)for(var c=0;c<a;c++)r[n(o,c)]=JSON.parse(JSON.stringify(w[0]));for(var l=1;l<e;l++)for(var i=1;i<e;i++)i>=l&&(r[n(l,i)]=JSON.parse(JSON.stringify(w[l])),r[n(l,a-1-i)]=JSON.parse(JSON.stringify(w[l])),r[n(a-1-l,i)]=JSON.parse(JSON.stringify(w[l])),r[n(a-1-l,a-1-i)]=JSON.parse(JSON.stringify(w[l]))),i<l&&(r[n(l,i)]=JSON.parse(JSON.stringify(w[i])),r[n(l,a-1-i)]=JSON.parse(JSON.stringify(w[i])),r[n(a-1-l,i)]=JSON.parse(JSON.stringify(w[i])),r[n(a-1-l,a-1-i)]=JSON.parse(JSON.stringify(w[i])));t.matrix=r,t.x=+e-1,t.startX=t.x,t.y=+e-1,t.startY=t.y,t.current=t.matrix["".concat(t.x,"-").concat(t.y)]},this.touchEdge=function(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===t.currentBasePosition.x&&0===t.currentBasePosition.y)return!1;var r=Math.sqrt(Math.pow(e,2)+Math.pow(n,2));return r+a>=t.baseR},this.changeLevel=function(){var e=function(){var e,n=function(e){return 2*(t.baseR-Math.abs(e))+t.tankD},a=t.mainTank.x-t.currentBasePosition.x,r=t.mainTank.y-t.currentBasePosition.y;return+Math.abs(a)>=+Math.abs(r)?a>0?(t.y!==t.matrixLength?t.y=t.y+1:t.y=0,e={x:-t.baseD+n(a),y:0}):(0!==t.y?t.y=t.y-1:t.y=t.matrixLength,e={x:t.baseD-n(a),y:0}):r>0?(t.x!==t.matrixLength?t.x=t.x+1:t.x=0,e={x:0,y:-t.baseD+n(r)}):(0!==t.x?t.x=t.x-1:t.x=t.matrixLength,e={x:0,y:t.baseD-n(r)}),t.current=t.matrix["".concat(t.x,"-").concat(t.y)],e}();return t.screenUpdate("".concat(t.x,"-").concat(t.y)),e},this.addExp=function(){var e=Object(d.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mainTank.exp+=n,t.mainTank.exp<0&&(t.mainTank.exp=0),t.mainTank.exp>E[5]&&(t.mainTank.exp=E[5]),!(t.mainTank.exp>=E[t.mainTank.lvl+1]&&t.mainTank.lvl<4)){e.next=13;break}if(console.log(t.mainTank.lvl),t.mainTank.lvl+=1,t.upgradeTree[t.mainTank.lvl]){e.next=12;break}return t.pause=!0,t.select(!0),t.setExp(100),e.next=12,t.selectMenu();case 12:t.upgrade(t.mainTank.lvl);case 13:n=100*(t.mainTank.exp-E[t.mainTank.lvl])/(E[t.mainTank.lvl+1]-E[t.mainTank.lvl]),t.setExp(n);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.delay=function(e){return new Promise((function(t){return setTimeout((function(){return t()}),e)}))},this.selectMenu=Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.pause){e.next=8;break}return e.next=3,t.delay(100);case 3:return e.next=5,t.selectMenu();case 5:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",1);case 9:case"end":return e.stop()}}),e)}))),this.changeClass=function(e){t.upgradeTree[t.mainTank.lvl]=e,t.select(!1),t.pause=!1}};var b=function(e){var t=e.color,n=e.w;return r.a.createElement(r.a.Fragment,null,r.a.createElement("defs",null,r.a.createElement("radialGradient",{id:"opacity--high-".concat(t,"-").concat(n||""),fy:"10%"},r.a.createElement("stop",{offset:"60%",stopColor:"black",stopOpacity:"0"}),r.a.createElement("stop",{offset:"100%",stopColor:"white",stopOpacity:".25"}),r.a.createElement("stop",{offset:"100%",stopColor:"black"})),r.a.createElement("mask",{id:"mask--high-".concat(t,"-").concat(n||"")},r.a.createElement("rect",{fill:"url(#opacity--high-".concat(t,"-").concat(n||"",")"),width:"100%",height:"100%"}))),r.a.createElement("circle",{r:"50%",cx:"50%",cy:"50%",mask:"url(#mask--high-".concat(t,"-").concat(n||"",")")}))},x={gunColor2:"#072928",gunColor3:"#072928",enemyColor1:"#b5fffd",enemyColor2:"#62a4ff",heroColor2:"#1f615f",enemyBulletColor1:"#191a3a",enemyBulletColor2:"#1b1c3e",enemyBulletColor3:"#1a1b3b",heroBulletColor1:"#ff7d8d",heroBulletColor2:"#ff7d8d",heroBulletColor3:"#ff7d8d",rocketColor:"#ff7d8d",travelColor:"#fafafa",color1:"#d4f4f0",color2:"#88c4be",color3:"#1f615f",color4:"#0c3e3e",color5:"#072928",blue:"#7aa5c4",orange:"#ffa461",green:"#6cc286",pink:"#ff7d8d",yellow:"#fffd8e"},k=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).speed=20,a.width=40,a.type="hero",a.view=function(){return 0},g.mainTank.R=a.width/2,g.mainTank.speed=a.speed,g.mainTank.halfSpeed=.66*a.speed,g.tankD=a.width,a}return Object(i.a)(n,[{key:"render",value:function(){return this.view()}}]),n}(r.a.Component);var O=function(e){var t=e.color,n=e.w;return r.a.createElement(r.a.Fragment,null,r.a.createElement("defs",null,r.a.createElement("radialGradient",{id:"opacity--low-".concat(t,"-").concat(n||""),fx:"30%",fy:"30%"},r.a.createElement("stop",{offset:"0%",stopColor:"black",stopOpacity:".7"}),r.a.createElement("stop",{offset:"40%",stopColor:"white",stopOpacity:".5"}),r.a.createElement("stop",{offset:"100%",stopColor:"white",stopOpacity:".9"})),r.a.createElement("mask",{id:"mask--low-".concat(t,"-").concat(n||"")},r.a.createElement("rect",{fill:"url(#opacity--low-".concat(t,"-").concat(n||"",")"),width:"100%",height:"100%"}))),r.a.createElement("circle",{className:e.className,r:"50%",cx:"50%",cy:"50%",mask:"url(#mask--low-".concat(t,"-").concat(n||"",")")}))};var C=function(e){var t=e.color,n=e.w;return r.a.createElement(r.a.Fragment,null,r.a.createElement("defs",null,r.a.createElement("radialGradient",{id:"gradient--edge-".concat(t,"-").concat(n||""),fx:"30%",fy:"30%"},r.a.createElement("stop",{offset:"0%",stopColor:"black"}),r.a.createElement("stop",{offset:"90%",stopColor:"black",stopOpacity:".6"}),r.a.createElement("stop",{offset:"100%",stopColor:"white",stopOpacity:".9"})),r.a.createElement("mask",{id:"mask--edge-".concat(t,"-").concat(n||"")},r.a.createElement("rect",{fill:"url(#gradient--edge-".concat(t,"-").concat(n||"",")"),width:"100%",height:"100%"}))),r.a.createElement("circle",{r:"50%",cx:"50%",cy:"50%",mask:"url(#mask--edge-".concat(t,"-").concat(n||"",")")}))};var j=function(e){var t=e.w,n=e.h,a=e.left,o=e.top,c=e.color,l="0 0 ".concat(t," ").concat(n||t);return r.a.createElement("div",{className:"bubble-wrap",style:{left:"".concat(a,"px"),top:"".concat(o,"px")}},r.a.createElement("svg",{viewBox:l,style:{width:"".concat(t,"px"),height:"".concat(n||t,"px"),fill:c}},r.a.createElement(C,{color:c}),r.a.createElement(O,{color:c,w:t})))};var S=function(e){var t=e.w,n=e.h,a=e.color,o=e.left?e.left:0,c=e.top?e.top:0;return r.a.createElement("div",{className:"bubble-wrap ".concat(e.className),style:{left:"".concat(o,"px"),top:"".concat(c,"px")}},r.a.createElement("svg",{style:{width:"".concat(t,"px"),height:"".concat(n||t,"px"),fill:a}},r.a.createElement(O,{color:a,w:t})))},T=(n(20),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).baseSpeed=18,a.D=10,a.bullet=r.a.createRef(),a.speed={x:0,y:0},a.hit="hero"===a.props.parent?g.hit:g.enemyHit,a.getSpeed=function(e){var t=a.props.gunPosition,n=e.x-t.x,r=e.y-t.y,o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));a.speed.x=n*a.baseSpeed/o,a.speed.y=r*a.baseSpeed/o},a.move=function(){if(!g.pause&&(a.position.x+=a.speed.x,a.position.y+=a.speed.y,!a.state.burst&&a.bullet.current&&(a.bullet.current.style.left="".concat(a.position.x,"px"),a.bullet.current.style.top="".concat(a.position.y,"px")),g.travel||g.touchEdge(a.position.x,a.position.y)||a.hit(a.position.x,a.position.y,a.props.damage)))return a.setState({burst:!0});setTimeout(a.move,30)},a.stay=function(){if(!g.pause&&(g.travel||a.hit(a.position.x,a.position.y,a.props.damage)))return a.setState({burst:!0});setTimeout(a.stay,50)},a.view=function(){return r.a.createElement(S,{w:a.D,color:x[a.props.parent+"BulletColor1"]})},a.state={burst:!1},a.position={},a.props.gunPosition&&g.currentBasePosition&&(a.position.x=e.gunPosition.x-g.currentBasePosition.x,a.position.y=e.gunPosition.y-g.currentBasePosition.y),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.getSpeed(this.props.target),0!==this.baseSpeed?this.move():this.stay(),"function"===typeof this.setStart&&this.setStart()}},{key:"componentDidUpdate",value:function(){this.state.burst&&delete g.bullets[this.props.id]}},{key:"render",value:function(){var e;return e=this.state.burst?null:this.view(),r.a.createElement("div",{className:"bullet-wrap",ref:this.bullet,style:{left:"".concat(this.position.x,"px"),top:"".concat(this.position.y,"px")}},e)}}]),n}(r.a.Component)),N=new(function(){function e(){Object(l.a)(this,e),this.audio=new Audio("1111.wav"),this.audio.preload="auto"}return Object(i.a)(e,[{key:"shoot",value:function(){return this.audio.play()}}]),e}()),M=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).fireRate=400,e.damage=1,e.bullet=T,e.gun=r.a.createRef(),e.shooting={mouseDown:!1,fire:!0},e.startShooting=function(){e.shooting.mouseDown=!0,e.shooting.fire&&e.shoot()},e.shoot=function(){if(e.shooting.fire=!1,e.shooting.mouseDown&&!g.pause){var t=g.getId("bullet",e.props.parent),n={},a=e.gun.current.getBoundingClientRect(),o=e.props.tank.current.getBoundingClientRect();e.props.angle?e.turn(n,o,a):(n.x=g.mouse.x+a.x-o.x,n.y=g.mouse.y+a.y-o.y),N.shoot(),g.bullets[t]=r.a.createElement(e.bullet,{parent:e.props.parent,key:t,id:t,gunPosition:a,tankPosition:o,damage:e.damage,target:n,angle:e.props.angle}),g.updateBulletPlace(t),setTimeout(e.allowFire,e.fireRate)}},e.turn=function(t,n,a){if(!g.pause){var r=Math.PI*e.props.angle/180,o=g.mouse.x-n.x,c=g.mouse.y-n.y;t.x=o*Math.cos(r)-c*Math.sin(r),t.y=o*Math.sin(r)+c*Math.cos(r),t.x+=a.x,t.y+=a.y}},e.allowFire=function(){e.shooting.fire=!0,e.shooting.mouseDown&&e.gun.current&&e.shoot()},e.stopShooting=function(){return e.shooting.mouseDown=!1},e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{color:x.color5,w:15,left:0,top:2}),r.a.createElement(j,{color:x.color5,w:10,left:0,top:-10}),r.a.createElement(j,{color:x.heroBulletColor1,w:10,left:0,top:1}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.startShooting),document.addEventListener("mouseup",this.stopShooting)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.startShooting),document.removeEventListener("mouseup",this.stopShooting)}},{key:"render",value:function(){var e={left:"".concat(this.props.offset.x,"px"),top:"".concat(this.props.offset.y,"px")};return this.props.angle&&(e.transform="rotate(".concat(this.props.angle,"deg)")),r.a.createElement("div",{className:"gun",ref:this.gun,style:e},this.view())}}]),n}(r.a.Component),B=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).fireRate=230,e.damage=1,e.bullet=T,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{color:x.gunColor2,w:15,left:0,top:8}),r.a.createElement(j,{color:x.gunColor2,w:15,left:0,top:0}),r.a.createElement(j,{color:x.gunColor2,w:10,left:0,top:-10}),r.a.createElement(j,{color:x.heroBulletColor1,w:10,left:0,top:5}),r.a.createElement(j,{color:x.heroBulletColor1,w:10,left:0,top:1}))},e}return n}(M);var R=function(e){var t=e.color,n=e.w,a=e.h,o=e.left,c=e.top,l="0 0 ".concat(n," ").concat(a||n);return r.a.createElement("div",{className:"bubble-wrap ".concat(e.class?e.class:""),style:{left:"".concat(o,"px"),top:"".concat(c,"px")}},r.a.createElement("svg",{viewBox:l,style:{width:"".concat(n,"px"),height:"".concat(a||n,"px"),fill:t}},r.a.createElement(O,{color:t,w:n}),r.a.createElement(C,{color:t,w:n})))},D=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).speed=25,e.width=40,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{left:12,top:7,w:e.width/1.5,color:x.heroColor2}),r.a.createElement(R,{left:-12,top:7,w:e.width/1.5,color:x.heroColor2}),r.a.createElement(R,{left:0,top:-12,w:e.width/1.5,color:x.heroColor2}),r.a.createElement(R,{left:-12,top:15,w:10,color:x.color5}),r.a.createElement(R,{left:12,top:15,w:10,color:x.color5}),r.a.createElement(B,{parent:e.type,offset:{x:0,y:0},tank:e.props.tank}))},e}return n}(k),P=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).speed=25,e.width=40,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{left:12,top:7,w:e.width/1.5,color:x.heroColor2}),r.a.createElement(R,{left:-12,top:7,w:e.width/1.5,color:x.heroColor2}),r.a.createElement(R,{left:0,top:-12,w:e.width/1.5,color:x.heroColor2}),r.a.createElement(B,{parent:e.type,offset:{x:10,y:0},tank:e.props.tank}),r.a.createElement(B,{parent:e.type,offset:{x:-10,y:0},tank:e.props.tank}))},e}return n}(k),A=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).baseSpeed=12,e.D=20,e.view=function(){return r.a.createElement(S,{w:e.D,color:x[e.props.parent+"BulletColor2"]})},e}return n}(T),L=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).fireRate=230,e.damage=3,e.bullet=A,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{color:x.gunColor2,w:20,left:0,top:15}),r.a.createElement(j,{color:x.heroBulletColor1,w:15,left:0,top:15}),r.a.createElement(j,{color:x.gunColor2,w:10,left:6,top:8}),r.a.createElement(j,{color:x.gunColor2,w:10,left:-6,top:8}),r.a.createElement(j,{color:x.gunColor2,w:10,left:8,top:3}),r.a.createElement(j,{color:x.gunColor2,w:10,left:-8,top:3}),r.a.createElement(j,{color:x.gunColor2,w:10,left:8,top:-3}),r.a.createElement(j,{color:x.gunColor2,w:10,left:-8,top:-3}))},e}return n}(M),F=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).speed=25,e.width=40,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{left:12,top:7,w:25,color:x.heroColor2}),r.a.createElement(R,{left:-12,top:7,w:25,color:x.heroColor2}),r.a.createElement(R,{left:0,top:-12,w:25,color:x.heroColor2}),r.a.createElement(R,{left:24,top:9,w:10,color:x.color5}),r.a.createElement(R,{left:-24,top:9,w:10,color:x.color5}),r.a.createElement(R,{left:-22,top:15,w:10,color:x.color5}),r.a.createElement(R,{left:22,top:15,w:10,color:x.color5}),r.a.createElement(R,{left:-12,top:15,w:10,color:x.color5}),r.a.createElement(R,{left:12,top:15,w:10,color:x.color5}),r.a.createElement(L,{parent:e.type,offset:{x:0,y:-10},tank:e.props.tank}))},e}return n}(k),J=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).speed=20,e.width=40,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{left:14,top:-8,w:e.width/1.8,color:x.heroColor2}),r.a.createElement(R,{left:-14,top:-8,w:e.width/1.8,color:x.heroColor2}),r.a.createElement(R,{left:8,top:5,w:e.width/2.2,color:x.heroColor2}),r.a.createElement(R,{left:-8,top:5,w:e.width/2.2,color:x.heroColor2}),r.a.createElement(R,{left:0,top:10,w:e.width/4,color:x.heroColor2}),r.a.createElement(M,{parent:e.type,offset:{x:14,y:-10},tank:e.props.tank}),r.a.createElement(M,{parent:e.type,offset:{x:-14,y:-10},tank:e.props.tank}))},e}return n}(k),K=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).baseSpeed=9,e.D=15,e.capture=!1,e.setStart=function(){setTimeout((function(){return e.capture=!0}),200)},e.getSpeed=function(t){if(t)e.target=JSON.parse(JSON.stringify(t)),e.target.x-=g.currentBasePosition.x,e.target.y-=g.currentBasePosition.y;else{if(0===Object.keys(g.current.enemy).length&&(0!==e.speed.x||0!==e.speed.y))return void(e.capture=!1);e.targetNumber&&g.current.enemy[e.targetNumber]||(e.targetNumber=e.targetSelection()),e.target=g.current.enemy[e.targetNumber].coordinates}var n=e.target.x-e.position.x,a=e.target.y-e.position.y,r=Math.sqrt(Math.pow(n,2)+Math.pow(a,2));e.speed.x=n*e.baseSpeed/r,e.speed.y=a*e.baseSpeed/r,e.turn()},e.targetSelection=function(){var t={};for(var n in g.current.enemy){var a=g.current.enemy[n].coordinates,r=a.x-e.position.x,o=a.y-e.position.y;t[n]=Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}return function(e){var t;for(var n in e)t?e[n]<e[t]&&(t=n):t=n;return t}(t)},e.move=function(){if(!g.pause&&(e.capture&&e.getSpeed(),e.position.x+=e.speed.x,e.position.y+=e.speed.y,!e.state.burst&&e.bullet.current&&(e.bullet.current.style.left="".concat(e.position.x,"px"),e.bullet.current.style.top="".concat(e.position.y,"px")),g.travel||g.touchEdge(e.position.x,e.position.y)||e.hit(e.position.x,e.position.y,e.props.damage)))return e.setState({burst:!0});setTimeout(e.move,30)},e.turn=function(){var t,n,a=(t=e.position,n=e.target,180*Math.atan2(n.y-t.y,n.x-t.x)/Math.PI+90);e.bullet.current&&(e.bullet.current.style.transform="rotate(".concat(a,"deg)"))},e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{w:e.D,color:x.rocketColor,top:2,left:0}),r.a.createElement(S,{w:e.D/1.2,color:x.rocketColor,top:-4,left:0}),r.a.createElement(S,{w:e.D/2,color:x.rocketColor,top:6,left:4}),r.a.createElement(S,{w:e.D/2,color:x.rocketColor,top:6,left:-4}))},e}return n}(T),I=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).fireRate=1e3,e.damage=e.props.damage?e.props.damage:2,e.bullet=K,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{color:x.gunColor2,w:14,left:0,top:15}),r.a.createElement(j,{color:x.gunColor2,w:7,left:5,top:0}),r.a.createElement(j,{color:x.gunColor2,w:7,left:-5,top:0}),r.a.createElement(j,{color:x.gunColor2,w:7,left:6,top:5}),r.a.createElement(j,{color:x.gunColor2,w:7,left:-6,top:5}),r.a.createElement(j,{color:x.gunColor2,w:7,left:5,top:10}),r.a.createElement(j,{color:x.gunColor2,w:7,left:-5,top:10}),r.a.createElement(j,{color:x.heroBulletColor1,w:9,left:0,top:13}))},e}return n}(M),G=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).speed=20,e.width=40,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{left:15,top:-12,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:-15,top:-12,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:20,top:0,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:-20,top:0,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:13,top:11,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:-13,top:11,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:0,top:20,w:e.width/2,color:x.heroColor2}),r.a.createElement(I,{parent:e.type,offset:{x:0,y:5},tank:e.props.tank}))},e}return n}(k),U=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).speed=20,e.width=40,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{left:22,top:-8,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:-22,top:-8,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:17,top:2,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:-17,top:2,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:0,top:-12,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:5,top:2,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:-5,top:2,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:10,top:11,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:-10,top:11,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:0,top:18,w:e.width/2,color:x.heroColor2}),r.a.createElement(I,{parent:e.type,offset:{x:10,y:-5},tank:e.props.tank}),r.a.createElement(I,{parent:e.type,offset:{x:-10,y:-5},tank:e.props.tank}))},e}return n}(k),W=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).fireRate=400,e.damage=3,e.bullet=A,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{color:x.color5,w:20,left:0,top:10}),r.a.createElement(j,{color:x.pink,w:15,left:0,top:10}),r.a.createElement(j,{color:x.color5,w:10,left:10,top:-3}),r.a.createElement(j,{color:x.color5,w:10,left:-10,top:-3}))},e}return n}(M),q=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).speed=15,e.width=55,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{left:-9,top:6,w:e.width/2,color:x.heroColor2}),r.a.createElement(R,{left:9,top:6,w:e.width/2,color:x.heroColor2}),r.a.createElement(R,{left:0,top:9,w:e.width/2,color:x.heroColor2}),r.a.createElement(R,{left:0,top:-5,w:e.width/1.5,color:x.heroColor2}),r.a.createElement(W,{parent:e.type,offset:{x:0,y:0},tank:e.props.tank}))},e}return n}(k),X=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).speed=13,e.width=55,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{left:-14,top:8,w:e.width/2,color:x.heroColor2}),r.a.createElement(R,{left:14,top:8,w:e.width/2,color:x.heroColor2}),r.a.createElement(R,{left:15,top:24,w:e.width/4,color:x.heroColor2}),r.a.createElement(R,{left:-15,top:24,w:e.width/4,color:x.heroColor2}),r.a.createElement(R,{left:5,top:20,w:e.width/4,color:x.heroColor2}),r.a.createElement(R,{left:-5,top:20,w:e.width/4,color:x.heroColor2}),r.a.createElement(R,{left:0,top:-5,w:e.width/1.5,color:x.heroColor2}),r.a.createElement(W,{parent:e.type,offset:{x:-14,y:0},tank:e.props.tank}),r.a.createElement(W,{parent:e.type,offset:{x:14,y:0},tank:e.props.tank}))},e}return n}(k),Y=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).fireRate=1300,e.damage=1,e.bullet=T,e.gun=r.a.createRef(),e.shoot=function(){if(e.gun.current&&!g.pause){var t=g.getId("bullet",e.props.parent),n=e.gun.current.getBoundingClientRect(),a=e.props.tank.current.getBoundingClientRect();g.bullets[t]=r.a.createElement(e.bullet,{parent:e.props.parent,key:t,id:t,gunPosition:n,tankPosition:a,damage:e.damage,target:g.mainTank}),g.updateBulletPlace(t)}setTimeout(e.shoot,e.fireRate)},e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{color:x.orange,w:20,left:0,top:2}),r.a.createElement(R,{color:x.orange,w:12,left:0,top:-10}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){setTimeout(this.shoot,this.fireRate*Math.random())}},{key:"render",value:function(){var e=this.props.offset,t=e.x,n=e.y;return r.a.createElement("div",{className:"gun",ref:this.gun,style:{left:"".concat(t,"px"),top:"".concat(n,"px")}},this.view())}}]),n}(r.a.Component),z=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).baseSpeed=0,e.D=15,e.lifeTime=7e3,e.view=function(){setTimeout((function(){e.hit=function(){return!0}}),e.lifeTime);var t=x[e.props.parent+"BulletColor3"],n="hero"===e.props.parent?null:"mine-bubble";return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{w:e.D,color:t,className:n}),r.a.createElement(S,{w:5,top:-8,left:-6,color:t,className:n}),r.a.createElement(S,{w:5,top:0,left:-6,color:t,className:n}),r.a.createElement(S,{w:5,top:-8,left:6,color:t,className:n}),r.a.createElement(S,{w:5,top:0,left:6,color:t,className:n}),r.a.createElement(S,{w:5,top:-11,left:0,color:t,className:n}),r.a.createElement(S,{w:5,top:2,left:0,color:t,className:n}))},e}return n}(T),H=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).fireRate=1300,e.damage=5,e.bullet=z,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{color:x.gunColor2,w:15,left:12,top:0}),r.a.createElement(R,{color:x.gunColor2,w:15,left:-12,top:0}),r.a.createElement(R,{color:x.gunColor3,w:10,left:-6,top:-1,class:"anim-run"}))},e}return n}(Y),Q=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).speed=12,e.width=55,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{left:-14,top:6,w:e.width/2,color:x.heroColor2}),r.a.createElement(R,{left:14,top:6,w:e.width/2,color:x.heroColor2}),r.a.createElement(R,{left:15,top:22,w:e.width/4,color:x.heroColor2}),r.a.createElement(R,{left:-15,top:22,w:e.width/4,color:x.heroColor2}),r.a.createElement(R,{left:0,top:-7,w:e.width/1.5,color:x.heroColor2}),r.a.createElement(W,{parent:e.type,offset:{x:-15,y:-5},tank:e.props.tank}),r.a.createElement(W,{parent:e.type,offset:{x:15,y:-5},tank:e.props.tank}),r.a.createElement(H,{parent:e.type,offset:{x:0,y:28},tank:e.props.tank}))},e}return n}(k),V=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).speed=20,e.width=40,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{left:17,top:2,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:-17,top:2,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:0,top:-9,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:5,top:2,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:-5,top:2,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:10,top:11,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:-10,top:11,w:e.width/3,color:x.heroColor2}),r.a.createElement(R,{left:0,top:18,w:e.width/2,color:x.heroColor2}),r.a.createElement(I,{parent:e.type,tank:e.props.tank,damage:3,angle:45,offset:{x:20,y:-20}}),r.a.createElement(I,{parent:e.type,tank:e.props.tank,damage:3,angle:135,offset:{x:20,y:20}}),r.a.createElement(I,{parent:e.type,tank:e.props.tank,damage:3,angle:225,offset:{x:-20,y:20}}),r.a.createElement(I,{parent:e.type,tank:e.props.tank,damage:3,angle:315,offset:{x:-20,y:-20}}))},e}return n}(k),Z={0:{light:function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).speed=20,e.width=40,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{left:-9,top:6,w:e.width/3,color:x.color3}),r.a.createElement(R,{left:9,top:6,w:e.width/3,color:x.color3}),r.a.createElement(R,{left:0,top:9,w:e.width/3,color:x.color3}),r.a.createElement(R,{left:0,top:-5,w:e.width/2,color:x.color3}),r.a.createElement(M,{parent:e.type,offset:{x:0,y:-6},tank:e.props.tank}))},e}return n}(k)},1:{light:D,heavy:q,balanced:J},2:{light:P,heavy:X,balanced:G},3:{light:F,heavy:Q,balanced:U},4:{light:V,heavy:V,balanced:V}},$=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).pressed={},a.setPosition=function(){g.mainTank.x=document.body.offsetWidth/2,g.mainTank.y=document.body.offsetHeight/2},a.addKey=function(e){return a.pressed[e.code]=!0},a.removeKey=function(e){return delete a.pressed[e.code]},a.travel=function(){if(a.tank.current&&a.travelBubble.current){g.travel=!0,a.travelBubble.current.style.display="flex";var e=g.changeLevel();a.tank.current.style.transition="left .7s linear, top .7s linear",g.mainTank.x+=e.x,g.mainTank.y+=e.y,a.tank.current.style.left="".concat(g.mainTank.x,"px"),a.tank.current.style.top="".concat(g.mainTank.y,"px"),setTimeout((function(){a.tank.current.style.transition="",a.move()}),600)}},a.move=function(){if(!g.pause)if(a.goUp(),a.goDown(),a.goLeft(),a.goRight(),a.tank.current&&(a.tank.current.style.left="".concat(g.mainTank.x,"px"),a.tank.current.style.top="".concat(g.mainTank.y,"px"),a.turn()),g.touchEdge(g.mainTank.x-g.currentBasePosition.x,g.mainTank.y-g.currentBasePosition.y)){if(!g.travel)return a.travel()}else g.travel&&(g.travel=!1,a.travelBubble.current.style.display="none");a.tank.current&&setTimeout(a.move,50)},a.goUp=function(){a.pressed.KeyW&&!a.pressed.KeyS&&(a.pressed.KeyA||a.pressed.KeyD?g.mainTank.y=g.mainTank.y-g.mainTank.halfSpeed:g.mainTank.y=g.mainTank.y-g.mainTank.speed)},a.goDown=function(){a.pressed.KeyS&&!a.pressed.KeyW&&(a.pressed.KeyA||a.pressed.KeyD?g.mainTank.y=g.mainTank.y+g.mainTank.halfSpeed:g.mainTank.y=g.mainTank.y+g.mainTank.speed)},a.goLeft=function(){a.pressed.KeyA&&!a.pressed.KeyD&&(a.pressed.KeyS||a.pressed.KeyW?g.mainTank.x=g.mainTank.x-g.mainTank.halfSpeed:g.mainTank.x=g.mainTank.x-g.mainTank.speed)},a.goRight=function(){a.pressed.KeyD&&!a.pressed.KeyA&&(a.pressed.KeyS||a.pressed.KeyW?g.mainTank.x=g.mainTank.x+g.mainTank.halfSpeed:g.mainTank.x=g.mainTank.x+g.mainTank.speed)},a.mouseMove=function(e){g.pause||(g.setMouse(e),a.turn())},a.turn=function(){var e,t;g.mainTank.angle=(e=g.mainTank,t=g.mouse,180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI),a.tank.current&&(a.tank.current.style.transform="rotate(".concat(g.mainTank.angle+90,"deg)"))},a.tank=r.a.createRef(),a.travelBubble=r.a.createRef(),a.state={lvl:0},g.upgrade=function(e){return a.setState({lvl:e})},g.mainTank.x||a.setPosition(),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.removeKey),document.addEventListener("keydown",this.addKey),document.addEventListener("mousemove",this.mouseMove),this.move()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.removeKey),document.removeEventListener("keydown",this.addKey),document.removeEventListener("mousemove",this.mouseMove),this.pressed={}}},{key:"render",value:function(){var e=r.a.createElement(Z[this.state.lvl][g.upgradeTree[this.state.lvl]],{tank:this.tank});return r.a.createElement("div",{className:"tank-wrap",ref:this.tank},r.a.createElement("div",{className:"bubble-wrap",style:{display:"none"},ref:this.travelBubble},r.a.createElement("svg",{id:"travel",viewBox:"0 0 ".concat(2*g.tankD," ").concat(2*g.tankD),style:{width:"".concat(2*g.tankD,"px"),height:"".concat(2*g.tankD,"px")}},r.a.createElement(b,{color:x.travelColor,w:2*g.tankD}))),e)}}]),n}(r.a.Component);var _=function(e){var t=e.w,n=e.h,a=e.color,o="0 0 ".concat(t," ").concat(n||t);return r.a.createElement("div",{className:"base-bubble-wrap"},r.a.createElement("svg",{viewBox:o,style:{width:"".concat(t,"px"),height:"".concat(n||t,"px"),fill:a}},r.a.createElement(b,{color:a,w:t})))},ee=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).baseSpeed=6,a.width=40,a.trajectoryChangeRate=5e3,a.type="enemy",a.speed={x:0,y:0},a.R=a.width/2,a.position={},a.destination={},a.randomSign=function(){return Math.random()>.5?1:-1},a.burst=function(){g.checkOut(a.type,a.props.enemyId),g.toEmpty(),a.setState({burst:!0})},a.move=function(){a.state.burst||(g.pause||(a.position.x+=a.speed.x,a.position.y+=a.speed.y,a.tank.current&&(a.tank.current.style.left="".concat(a.position.x,"px"),a.tank.current.style.top="".concat(a.position.y,"px"),g.current[a.type][a.props.enemyId].coordinates={x:a.position.x,y:a.position.y},a.turn()),g.touchEdge(a.position.x,a.position.y,a.R)&&a.getSpeed(!0)),a.tank.current&&setTimeout(a.move,30))},a.getSpeed=function(e){if(!g.pause){var t=Math.random()*g.baseR*a.randomSign(),n=Math.random()*g.baseR*a.randomSign();a.destination.x=t+g.currentBasePosition.x,a.destination.y=n+g.currentBasePosition.y;var r=t-a.position.x,o=n-a.position.y,c=Math.sqrt(Math.pow(r,2)+Math.pow(o,2));a.speed.x=r*a.baseSpeed/c,a.speed.y=o*a.baseSpeed/c}e||a.state.burst||setTimeout(a.getSpeed,Math.random()*a.trajectoryChangeRate)},a.turn=function(){if(a.tank.current){var e=a.getAngle(a.tank.current.getBoundingClientRect(),g.mainTank);a.tank.current.style.transform="rotate(".concat(e,"deg)")}},a.getAngle=function(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI+90},a.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{w:a.width,color:x.enemyColor1}),r.a.createElement(Y,{parent:a.type,offset:{x:0,y:0},tank:a.tank}))},a.state={burst:!1},a.tank=r.a.createRef(),a.id=g.getId(a.type),a.position=a.getRandomPosition(),a}return Object(i.a)(n,[{key:"getRandomPosition",value:function(){var e=g.baseR-this.width,t=Math.random()*e*this.randomSign(),n=Math.random()*Math.sqrt(Math.pow(e,2)-Math.pow(t,2))*this.randomSign();return g.checkIn(this.type,this.props.enemyId,{x:t,y:n,R:this.R},this.burst),{x:t,y:n}}},{key:"componentDidMount",value:function(){this.getSpeed(),this.move()}},{key:"render",value:function(){if(this.state.burst)return null;var e={left:"".concat(this.position.x,"px"),top:"".concat(this.position.y,"px")};return r.a.createElement("div",{className:"enemy-wrap",ref:this.tank,style:e},this.view())}}]),n}(r.a.Component),te=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).baseSpeed=4.5,e.width=30,e.view=function(){return r.a.createElement(R,{w:e.width,color:x.enemyColor1})},e}return n}(ee),ne=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).baseSpeed=6,e.width=40,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{w:e.width,color:x.enemyColor1}),r.a.createElement(Y,{parent:e.type,offset:{x:0,y:0},tank:e.tank}))},e}return n}(ee),ae=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).fireRate=1300,e.damage=3,e.bullet=A,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{color:x.orange,w:30,left:0,top:2}),r.a.createElement(R,{color:x.orange,w:20,left:0,top:-12}))},e}return n}(Y),re=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).baseSpeed=3,e.width=60,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{w:e.width,color:x.enemyColor1}),r.a.createElement(ae,{parent:e.type,offset:{x:0,y:0},tank:e.tank}))},e}return n}(ee),oe=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).baseSpeed=4.5,e.width=40,e.turn=function(){if(e.tank.current){var t=e.getAngle(e.tank.current.getBoundingClientRect(),e.destination);e.tank.current.style.transform="rotate(".concat(t,"deg)")}},e.move=function(){e.state.burst||(g.pause||(e.position.x+=e.speed.x,e.position.y+=e.speed.y,e.tank.current&&(e.tank.current.style.left="".concat(e.position.x,"px"),e.tank.current.style.top="".concat(e.position.y,"px"),g.current[e.type][e.props.enemyId].coordinates={x:e.position.x,y:e.position.y}),g.touchEdge(e.position.x,e.position.y,e.R)&&e.getSpeed(!0)),e.tank.current&&setTimeout(e.move,30))},e.getSpeed=function(t){if(!g.pause){var n=Math.random()*g.baseR*e.randomSign(),a=Math.random()*g.baseR*e.randomSign();e.destination.x=n+g.currentBasePosition.x,e.destination.y=a+g.currentBasePosition.y;var r=n-e.position.x,o=a-e.position.y,c=Math.sqrt(Math.pow(r,2)+Math.pow(o,2));e.speed.x=r*e.baseSpeed/c,e.speed.y=o*e.baseSpeed/c,e.turn()}t||e.state.burst||setTimeout(e.getSpeed,Math.random()*e.trajectoryChangeRate)},e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{left:0,top:-10,w:e.width/1.9,color:x.enemyColor1}),r.a.createElement(R,{left:17,top:5,w:e.width/2,color:x.enemyColor1}),r.a.createElement(R,{left:-17,top:5,w:e.width/2,color:x.enemyColor1}),r.a.createElement(R,{left:15,top:20,w:e.width/2,color:x.enemyColor2}),r.a.createElement(R,{left:-15,top:20,w:e.width/2,color:x.enemyColor2}),r.a.createElement(H,{parent:e.type,offset:{x:0,y:15},tank:e.tank}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){setTimeout(this.getSpeed,800),setTimeout(this.move,900)}}]),n}(ee),ce=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).fireRate=300,e.damage=1,e.bullet=T,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{color:x.gunColor2,w:20,left:0,top:2}),r.a.createElement(R,{color:x.gunColor2,w:10,left:0,top:-10}))},e}return n}(Y),le={plainEnemy:te,lightEnemy:ne,heavyEnemy:re,minerEnemy:oe,machineGunEnemy:function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).baseSpeed=4.5,e.width=40,e.view=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{left:12,top:7,w:e.width/1.5,color:x.enemyColor1}),r.a.createElement(R,{left:-12,top:7,w:e.width/1.5,color:x.enemyColor1}),r.a.createElement(R,{left:0,top:-12,w:e.width/1.5,color:x.enemyColor1}),r.a.createElement(ce,{parent:e.type,offset:{x:0,y:0},tank:e.tank}))},e}return n}(ee)};var ie=function(){var e=g.x,t=g.y,n=Object(a.useState)(""),o=Object(p.a)(n,2),c=(o[0],o[1]);Object(a.useEffect)((function(){g.updateBulletPlace=c}),[]);var l=[];for(var i in g.bullets)l.push(g.bullets[i]);var s=[],u=g.matrix[e+"-"+t].enemy;for(var m in u)s.push(r.a.createElement(le[u[m].type],{key:m,enemyId:m}));return r.a.createElement("div",{id:"place",style:{width:"100%",height:"100%",position:"absolute",left:"50%",top:"50%"}},l,s)},se=(n(10),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return this.props.center?r.a.createElement("div",{className:"level-description"},r.a.createElement("div",{className:"level-description-text"},"use",r.a.createElement("div",{className:"text-wasd"},"w ",r.a.createElement("br",null),"a s d"),"keys to move",r.a.createElement("br",null),"use your mouse to aim",r.a.createElement("br",null),"hold to shoot",r.a.createElement("br",null)),r.a.createElement("div",{className:"level-description-text"},"try moving outside of this bubble")):r.a.createElement("div",{className:"level-description"},r.a.createElement("div",{className:"level-description-text"},"you have jumped to a",r.a.createElement("br",null)," new bubblefield!"),r.a.createElement("div",{className:"level-description-text"},"destroy enemy bubble tanks to grow!"))}}]),n}(r.a.Component)),ue=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).setCoordinates=function(){a.base.current&&g.changeBaseCords(a.base.current.getBoundingClientRect())},a.getPosition=function(e,t){if(e===g.x&&t===g.y)return a.top="50%",a.left="50%",a.position="center";if(e===g.x){if(a.top="50%",t===g.y-1||0===g.y&&t===g.matrixLength)return a.left="-150%",a.position="left";if(t===g.y+1||0===t&&g.y===g.matrixLength)return a.left="150%",a.position="right"}if(t===g.y){if(a.left="50%",e===g.x-1||0===g.x&&e===g.matrixLength)return a.top="-150%",a.position="top";if(e===g.x+1||0===e&&g.x===g.matrixLength)return a.top="150%",a.position="bottom"}a.position=!1},a.position=!1,a.listner=!1,a.base=r.a.createRef(),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){"center"===this.position&&(this.setCoordinates(),window.addEventListener("resize",this.setCoordinates))}},{key:"componentDidUpdate",value:function(){var e=this;"center"!==this.position||this.listner?"center"!==this.position&&this.listner&&(window.removeEventListener("resize",this.setCoordinates),this.listner=!1):(setTimeout((function(){e.setCoordinates()}),800),window.addEventListener("resize",this.setCoordinates),this.listner=!0)}},{key:"componentWillUnmount",value:function(){this.listner&&window.removeEventListener("resize",this.setCoordinates)}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y;if(this.getPosition(+t,+n),this.position){var a,o,c={width:"".concat(g.baseD,"px"),height:"".concat(g.baseD,"px"),left:this.left,top:this.top};return"center"===this.position&&(a=r.a.createElement(ie,null)),+t===g.startX&&+n===g.startY?o=r.a.createElement(se,{center:!0}):(+t===g.startX+1&&+n===g.startY||+t===g.startX-1&&+n===g.startY||+n===g.startY+1&&+t===g.startX||+n===g.startY-1&&+t===g.startX)&&(o=r.a.createElement(se,{center:!1})),r.a.createElement("div",{id:t+"-"+n,className:"playground",ref:this.base,style:c},o,r.a.createElement(_,{color:x.color1,w:g.baseD}),a)}return null}}]),n}(r.a.Component),pe=(n(21),{light:{1:"light machine gun",2:"twin light machine gun",3:"heavy machine gun"},heavy:{1:"heavy cannon",2:"twin heavy cannon",3:"twin heavy cannon and mine layer"},balanced:{1:"twin cannon",2:"rocket launcher",3:"twin rocket launcher"}});var me=function(){var e=g.mainTank.lvl;return e<=3?r.a.createElement("div",{className:"selection-menu"},r.a.createElement("div",{className:"selection-menu-section"},r.a.createElement("div",{className:"select-button",onClick:function(){return g.changeClass("light")}},"Light ",e),r.a.createElement("div",{className:"description"},pe.light[e])),r.a.createElement("div",{className:"selection-menu-section"},r.a.createElement("div",{className:"select-button",onClick:function(){return g.changeClass("heavy")}},"Heavy ",e),r.a.createElement("div",{className:"description"},pe.heavy[e])),r.a.createElement("div",{className:"selection-menu-section"},r.a.createElement("div",{className:"select-button",onClick:function(){return g.changeClass("balanced")}},"Balanced ",e),r.a.createElement("div",{className:"description"},pe.balanced[e]))):r.a.createElement("div",{className:"selection-menu"},r.a.createElement("div",{className:"selection-menu-section"},r.a.createElement("div",{className:"select-button",onClick:function(){return g.changeClass("light")}},"Destroyer")))};n(22);var fe=function(){var e=Object(a.useState)(0),t=Object(p.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){g.setExp=o}),[]),r.a.createElement("div",{className:"experience-bar"},r.a.createElement("div",{className:"stripe"},r.a.createElement("div",{className:"inner-stripe",style:{width:"".concat(n,"%")}})))};var he=function(e){var t=e.color,n=e.w;return r.a.createElement(r.a.Fragment,null,r.a.createElement("defs",null,r.a.createElement("radialGradient",{id:"opacity--medium-".concat(t,"-").concat(n||""),fx:"25%",fy:"25%"},r.a.createElement("stop",{offset:"0%",stopColor:"black"}),r.a.createElement("stop",{offset:"30%",stopColor:"black",stopOpacity:".2"}),r.a.createElement("stop",{offset:"97%",stopColor:"white",stopOpacity:".4"}),r.a.createElement("stop",{offset:"100%",stopColor:"black"})),r.a.createElement("mask",{id:"mask--medium-".concat(t,"-").concat(n||"")},r.a.createElement("rect",{fill:"url(#opacity--medium-".concat(t,"-").concat(n||"",")"),width:"100%",height:"100%"}))),r.a.createElement("circle",{r:"50%",cx:"50%",cy:"50%",mask:"url(#mask--medium-".concat(t,"-").concat(n||"",")")}))};var de=function(e){var t=e.color,n=e.w,a=e.empty,o=.8*n,c="0 0 ".concat(o," ").concat(o),l=a?r.a.createElement(he,{color:t,w:o}):r.a.createElement(O,{color:t});return r.a.createElement("div",{className:"map-bubble",style:{width:"".concat(n,"px"),height:"".concat(n,"px")}},r.a.createElement("svg",{viewBox:c,style:{width:"".concat(o,"px"),height:"".concat(o,"px"),fill:t}},l,r.a.createElement(C,{color:t,w:n})))};n(23);var ye=function(e){var t=e.matrix,n=e.current,a=290/e.length,o=[];for(var c in t){var l=c===n?"#0c3e3e":"#d4f4f0",i=t[c].empty&&c!==n;o.push(r.a.createElement(de,{key:c,color:l,w:a,empty:i}))}var s={width:"".concat(300,"px"),height:"".concat(300,"px"),padding:"".concat(5,"px")};return r.a.createElement("div",{className:"mini-map",style:s},o)};var ve=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=(t[0],t[1]),o=Object(a.useState)(!1),c=Object(p.a)(o,2),l=c[0],i=c[1],s=[];for(var u in g.matrix){var m=u.split("-"),f=m[1];m=m[0],s.push(r.a.createElement(ue,{key:u,x:m,y:f,obj:g.matrix[u]}))}Object(a.useEffect)((function(){g.select=i,g.screenUpdate=n}),[]);var h=l?r.a.createElement(me,null):null;return r.a.createElement("div",{id:"screen",className:"screen",onClick:onclick},h,r.a.createElement($,null),s,r.a.createElement(fe,null),r.a.createElement(ye,{matrix:g.matrix,current:"".concat(g.x,"-").concat(g.y),length:g.matrixLength+1}))};var we=function(){var e=Object(a.useState)("menu"),t=Object(p.a)(e,2),n=t[0],o=t[1];return"menu"===n?r.a.createElement(m,{onclick:function(){setTimeout((function(){return o("play")}),100)}}):"play"===n?r.a.createElement(ve,null):void 0},Ee=(n(24),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).pauseOn=function(){g.pause||(window.addEventListener("focus",a.pauseOff),g.pause=!0)},a.pauseOff=function(){g.pause=!1,window.removeEventListener("focus",a.pauseOff)},g.matrix||g.init(),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("blur",this.pauseOn)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("blur",this.pauseOn),window.removeEventListener("focus",this.pauseOff)}},{key:"render",value:function(){return r.a.createElement(we,null)}}]),n}(r.a.Component));c.a.render(r.a.createElement(Ee,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.fa64c3db.chunk.js.map